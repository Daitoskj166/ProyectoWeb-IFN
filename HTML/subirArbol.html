<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar √Årbol - IFN</title>
    <link rel="stylesheet" href="../CSS/styles-SubirArbol.css">
</head>

<body>
    <!-- ============================================= -->
    <!-- ENCABEZADO PRINCIPAL CON NAVEGACI√ìN -->
    <!-- ============================================= -->
    <header>
        <!-- Logo institucional del IFN -->
        <img class="Logo" src="../IMG/ifn-baja-tcm30-525131.png" alt="Logo IFN" width="150">

        <!-- T√≠tulo central y men√∫ de navegaci√≥n -->
        <div class="center-header">
            <h1>INVENTARIO FORESTAL NACIONAL - COLOMBIA</h1>

            <!-- Dashboard de navegaci√≥n entre m√≥dulos -->
            <div class="dashboard">
                <a href="inicio-Pantalla.html" class="dashboard-btn">Inicio</a>
                <a href="subirSuelo.html" class="dashboard-btn">Subir Suelo</a>
                <a href="registro.html" class="dashboard-btn">Registro</a>
                <a href="estadisticas.html" class="dashboard-btn">Estad√≠sticas</a>
                <a href="gestionBrigadas.html" class="dashboard-btn">Gesti√≥n Brigadas</a>
                <a href="supervision.html" class="dashboard-btn">Supervisi√≥n</a>
            </div>
        </div>

        <!-- Secci√≥n de usuario con informaci√≥n de sesi√≥n -->
        <div class="login-imagen">
            <p class="texto-arriba">User</p>
            <img class="Login" src="../IMG/login.png" alt="Login User" width="150">
            <button class="texto-abajo">Cerrar sesi√≥n</button>
        </div>
    </header>

    <!-- ============================================= -->
    <!-- BARRA DE B√öSQUEDA GLOBAL -->
    <!-- ============================================= -->
    <div class="search-container">
        <div class="search-box">
            <input type="text" placeholder="Buscar...">
            <span class="search-icon">üîç</span>
        </div>
    </div>

    <!-- ============================================= -->
    <!-- CONTENIDO PRINCIPAL - FORMULARIO DE REGISTRO -->
    <!-- ============================================= -->
    <main>
        <h2>REGISTRAR √ÅRBOL - F3 REGISTRO Y MEDICI√ìN DE INDIVIDUOS</h2>

        <!-- Formulario principal para registro de √°rboles -->
        <form class="formulario-arbol" id="formularioArbol">
            
            <!-- SECCI√ìN 1: DATOS GENERALES -->
            <div class="seccion-formulario">
                <h3>Datos Generales</h3>
                
                <!-- Fila 1: Colector y Conglomerado -->
                <div class="fila-campos">
                    <div class="campo-formulario">
                        <label for="colector">Colector y n√∫mero de colecci√≥n *</label>
                        <input type="text" id="colector" name="colector" required placeholder="Ej: Juan P√©rez - COL123">
                    </div>
                    
                    <div class="campo-formulario">
                        <label for="conglomerado">ID Conglomerado</label>
                        <input type="text" id="conglomerado" name="conglomerado" placeholder="ID del conglomerado">
                    </div>
                </div>
                
                <!-- Fila 2: Fecha y Tipo de Plantaci√≥n -->
                <div class="fila-campos">
                    <div class="campo-formulario">
                        <label for="fecha">Fecha *</label>
                        <input type="date" id="fecha" name="fecha" required>
                    </div>
                    
                    <div class="campo-formulario">
                        <label for="plantacion">Plantaci√≥n</label>
                        <select id="plantacion" name="plantacion">
                            <option value="">Seleccionar tipo</option>
                            <option value="natural">Natural</option>
                            <option value="reforestacion">Reforestaci√≥n</option>
                            <option value="mixta">Mixta</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- SECCI√ìN 2: MEDICIONES DE ALTURA -->
            <div class="seccion-formulario">
                <h3>Mediciones de Altura</h3>
                
                <!-- Fila 1: Alturas principales -->
                <div class="fila-campos">
                    <div class="campo-formulario">
                        <label for="alturaTotal">Altura Total (m)</label>
                        <input type="number" id="alturaTotal" name="alturaTotal" step="0.1" min="0" placeholder="0.0">
                    </div>
                    
                    <div class="campo-formulario">
                        <label for="alturaFuste">Altura Fuste (m)</label>
                        <input type="number" id="alturaFuste" name="alturaFuste" step="0.1" min="0" placeholder="0.0">
                    </div>
                </div>
                
                <!-- Fila 2: √Ångulos de medici√≥n -->
                <div class="fila-campos">
                    <div class="campo-formulario">
                        <label for="vAlturaTotal">V + Altura Total (¬∞)</label>
                        <input type="number" id="vAlturaTotal" name="vAlturaTotal" step="0.1" min="0" max="90" placeholder="0-90">
                    </div>
                    
                    <div class="campo-formulario">
                        <label for="vAlturaFuste">V + Altura Fuste (¬∞)</label>
                        <input type="number" id="vAlturaFuste" name="vAlturaFuste" step="0.1" min="0" max="90" placeholder="0-90">
                    </div>
                </div>
                
                <!-- Fila 3: √Ångulo y distancia adicionales -->
                <div class="fila-campos">
                    <div class="campo-formulario">
                        <label for="vAltura">V - Altura (¬∞)</label>
                        <input type="number" id="vAltura" name="vAltura" step="0.1" min="0" max="90" placeholder="0-90">
                    </div>
                    
                    <div class="campo-formulario">
                        <label for="distanciaAltura">Distancia Altura (m)</label>
                        <input type="number" id="distanciaAltura" name="distanciaAltura" step="0.1" min="0" placeholder="0.0">
                    </div>
                </div>
                
                <!-- Equipo utilizado para medici√≥n de altura -->
                <div class="campo-formulario">
                    <label for="equipoAltura">Equipo Altura</label>
                    <select id="equipoAltura" name="equipoAltura">
                        <option value="">Seleccionar equipo</option>
                        <option value="CL">CL - Ciliatorios</option>
                        <option value="HI">HI - Hip√≥dromos</option>
                        <option value="VT">VT - Viras delencajador</option>
                        <option value="VA">VA - Vertex</option>
                    </select>
                </div>
            </div>

            <!-- SECCI√ìN 3: MEDICIONES DE DI√ÅMETRO -->
            <div class="seccion-formulario">
                <h3>Mediciones de Di√°metro</h3>
                
                <!-- Fila: Di√°metros 1 y 2 -->
                <div class="fila-campos">
                    <div class="campo-formulario">
                        <label for="diametro1">Di√°metro 1 (cm)</label>
                        <input type="number" id="diametro1" name="diametro1" step="0.1" min="0" placeholder="0.0">
                    </div>
                    
                    <div class="campo-formulario">
                        <label for="diametro2">Di√°metro 2 (cm)</label>
                        <input type="number" id="diametro2" name="diametro2" step="0.1" min="0" placeholder="0.0">
                    </div>
                </div>
                
                <!-- Equipo utilizado para medici√≥n de di√°metro -->
                <div class="campo-formulario">
                    <label for="equipoDiametro">Equipo Di√°metro</label>
                    <select id="equipoDiametro" name="equipoDiametro">
                        <option value="">Seleccionar equipo</option>
                        <option value="CA">CA - Calibrador</option>
                        <option value="CD">CD - Cinta diam√©trica</option>
                        <option value="PO">PO - Foot√≠bula</option>
                    </select>
                </div>
            </div>

            <!-- SECCI√ìN 4: FUSTE Y UBICACI√ìN -->
            <div class="seccion-formulario">
                <h3>Fuste y Ubicaci√≥n</h3>
                
                <!-- Fila 1: Caracter√≠sticas del fuste -->
                <div class="fila-campos">
                    <div class="campo-formulario">
                        <label for="numeroFuste">N√∫mero de Fuste</label>
                        <input type="number" id="numeroFuste" name="numeroFuste" min="1" placeholder="1">
                    </div>
                    
                    <div class="campo-formulario">
                        <label for="talloMultiple">Tallo M√∫ltiplo (x)</label>
                        <input type="number" id="talloMultiple" name="talloMultiple" min="0" placeholder="0">
                    </div>
                    
                    <div class="campo-formulario">
                        <label for="talloUnico">Tallo √önico (x)</label>
                        <input type="number" id="talloUnico" name="talloUnico" min="0" placeholder="0">
                    </div>
                </div>
                
                <!-- Fila 2: Posicionamiento -->
                <div class="fila-campos">
                    <div class="campo-formulario">
                        <label for="distancia">Distancia (m)</label>
                        <input type="number" id="distancia" name="distancia" step="0.1" min="0" placeholder="0.0">
                    </div>
                    
                    <div class="campo-formulario">
                        <label for="azimut">Azimut (¬∞)</label>
                        <input type="number" id="azimut" name="azimut" step="0.1" min="0" max="360" placeholder="0-360">
                    </div>
                </div>
                
                <!-- Condici√≥n del √°rbol (campo obligatorio) -->
                <div class="campo-formulario">
                    <label for="condicion">Condici√≥n *</label>
                    <select id="condicion" name="condicion" required>
                        <option value="">Seleccionar condici√≥n</option>
                        <option value="MP">MP - Muerto en pie</option>
                        <option value="TMI">TMI - Toc√≥n muerto</option>
                        <option value="TV">TV - Toc√≥n vivo</option>
                        <option value="VC">VC - Vivo ca√≠do</option>
                        <option value="VP">VP - Vivo en pie</option>
                    </select>
                </div>
            </div>

            <!-- SECCI√ìN 5: DATOS DEL INDIVIDUO -->
            <div class="seccion-formulario">
                <h3>Datos del Individuo</h3>
                
                <!-- Fila: Identificaci√≥n y tama√±o -->
                <div class="fila-campos">
                    <div class="campo-formulario">
                        <label for="individuoID">N¬∫ Individuo ID</label>
                        <input type="text" id="individuoID" name="individuoID" placeholder="ID √∫nico del individuo">
                    </div>
                    
                    <div class="campo-formulario">
                        <label for="tamanoIndividuo">Tama√±o Individuo</label>
                        <select id="tamanoIndividuo" name="tamanoIndividuo">
                            <option value="">Seleccionar tama√±o</option>
                            <option value="pequeno">Peque√±o</option>
                            <option value="mediano">Mediano</option>
                            <option value="grande">Grande</option>
                        </select>
                    </div>
                </div>
                
                <!-- Subparcela y observaciones -->
                <div class="campo-formulario">
                    <label for="subparcela">Subparcela</label>
                    <input type="text" id="subparcela" name="subparcela" placeholder="Identificador de subparcela">
                </div>
                
                <div class="campo-formulario">
                    <label for="observaciones">Observaciones</label>
                    <textarea id="observaciones" name="observaciones" rows="3" placeholder="Observaciones adicionales sobre el individuo..."></textarea>
                </div>
            </div>

            <!-- ============================================= -->
            <!-- BOTONES DE ACCI√ìN PRINCIPALES -->
            <!-- ============================================= -->
            <div class="botones-accion">
                <button type="button" class="btn-limpiar" id="btnLimpiar">Limpiar Formulario</button>
                <button type="submit" class="btn-guardar" id="btnGuardar">Registrar √Årbol</button>
            </div>
            
            <!-- Nota informativa sobre el proceso de guardado -->
            <p class="nota-guardar">Al hacer clic en registrar, el √°rbol se guardar√° con un identificador √∫nico en la base de datos del IFN</p>
        </form>
    </main>

    <!-- ============================================= -->
    <!-- PIE DE P√ÅGINA INSTITUCIONAL -->
    <!-- ============================================= -->
    <footer>
        <div class="footer-container">
            <p>üìç Direcci√≥n: Calle 25 D No. 110911, Colombia</p>
            <p>üìß Correo: contacto@ideam.gov.co | ‚òé Tel: +57 (601) 4442060</p>
            <div class="redes-sociales">
                <a href="https://www.facebook.com/ideam.instituto/?locale=es_LA"><img src="../IMG/facebook.png" alt="Facebook"></a>
                <a href="https://x.com/IDEAMColombia?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor"><img src="../IMG/X.jpeg" alt="X"></a>
                <a href="https://www.instagram.com/ideamcolombia/?hl=es"><img src="../IMG/instagram.png" alt="Instagram"></a>
                <a href="https://www.youtube.com/@InstitutoIDEAM"><img src="../IMG/youtube.png" alt="YouTube"></a>
            </div>
            <p>&copy; 2024 Proyecto Web IFN. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- ============================================= -->
    <!-- SCRIPTS DE FUNCIONALIDAD -->
    <!-- ============================================= -->
    <script>
        /**
         * SCRIPT DE INICIALIZACI√ìN B√ÅSICA DEL FORMULARIO
         * Maneja la validaci√≥n inicial y configuraci√≥n b√°sica
         */
        document.addEventListener('DOMContentLoaded', function() {
            const formulario = document.getElementById('formularioArbol');
            const btnLimpiar = document.getElementById('btnLimpiar');
            const btnGuardar = document.getElementById('btnGuardar');
            
            // Evento de env√≠o del formulario
            formulario.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validar campos obligatorios
                const colector = document.getElementById('colector').value;
                const fecha = document.getElementById('fecha').value;
                const condicion = document.getElementById('condicion').value;
                
                if (!colector || !fecha || !condicion) {
                    alert('Por favor, complete los campos obligatorios: Colector, Fecha y Condici√≥n');
                    return;
                }
                
                // Validaci√≥n espec√≠fica de Azimut
                const azimut = document.getElementById('azimut').value;
                if (azimut && (azimut < 0 || azimut > 360)) {
                    alert('El valor de Azimut debe estar entre 0 y 360 grados');
                    document.getElementById('azimut').focus();
                    return;
                }
                
                // Simular env√≠o exitoso al servidor
                btnGuardar.innerHTML = 'Registrando...';
                btnGuardar.disabled = true;
                
                setTimeout(function() {
                    alert('√Årbol registrado exitosamente. Se ha generado un ID √∫nico para este registro.');
                    btnGuardar.innerHTML = 'Registrar √Årbol';
                    btnGuardar.disabled = false;
                    formulario.reset();
                }, 1500);
            });
            
            // Evento de limpieza del formulario
            btnLimpiar.addEventListener('click', function() {
                if (confirm('¬øEst√° seguro de que desea limpiar todos los campos del formulario?')) {
                    formulario.reset();
                }
            });
            
            // Validaci√≥n en tiempo real para campos num√©ricos
            formulario.querySelectorAll('input[type="number"]').forEach(input => {
                input.addEventListener('blur', function() {
                    const min = parseFloat(this.min);
                    const max = parseFloat(this.max);
                    const value = parseFloat(this.value);
                    
                    if (this.value && !isNaN(value)) {
                        if (!isNaN(min) && value < min) {
                            this.style.borderColor = 'red';
                        } else if (!isNaN(max) && value > max) {
                            this.style.borderColor = 'red';
                        } else {
                            this.style.borderColor = '';
                        }
                    } else {
                        this.style.borderColor = '';
                    }
                });
            });
        });
    </script>
    
    <!-- Scripts externos para funcionalidades adicionales -->
    <script src="../JS/subirArbol.js"></script>
    <script src="../JS/auth.js"></script>
    <script src="../JS/buscador-universal.js"></script>
</body>
</html>